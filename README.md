# Aircraft Performance Evaluation Model

## Overview
The code here proposed is a a Python-based tool for evaluating the **Take-Off Distance Required (TODR)** and **air density** under varying atmospheric conditions (temperature, pressure, humidity, headwind) for a given aircraft-engine configuration at a specific airport.

It produce a Dataframe (structured as a 2D grid) with performance computed and the atmospheric conditions used as input.
It also generates 2D heatmap showing the performance variation with respect to any two input variablevariables, holding the others constant. 
This can be used for sensitivity studies, performance planning, or impact analysis of changing climate and weather conditions on aircraft takeoff performance.
The density of moist air is computed using the [A. Buck equations](https://en.wikipedia.org/wiki/Arden_Buck_equation).
Athmospheric variables considered are **Temperature, pressure, headwind and air humidity**.

## Key features
- Evaluate **air density and TODR** over a grid of environmental variables;

- Simulate performance for specific aircraft, engines, and airport configurations;

- Generate **2D performance maps** (e.g. temperature vs pressure, headwind vs pressure);

- **Custom configuration** via YAML;

- Modular design with reusable utilities for:

    * Aircraft performance,

    *   Atmospheric modeling,

    * Airport elevation and location;

- Styled plots with a custom matplotlib style.

## Repository Structure
```
├── aircraft_utils.py            # Functions to retrieve aircraft characteristics from manufacturer data
│                                  and the OpenAP library
├── airport_utils.py              #Functions  to retrieve airport data from internal runway datasets 
│                                  and the airportsdata package
├── atm_functions.py             # Functions for atmospheric conditions computations (e.g., moist air density)
├── cl_calc.py                   # Lift coefficient estimation from manufacturer data 
├── config_loader.py             # Functions to load and parse configuration files
├── config.yml                   # Main YAML configuration file
├── constants.py                 # Physical and operational constants used across modules
├── custom_style.mplstyle        # Custom matplotlib style for plots
├── input/
│   ├── airport_runways.csv      # Input data for airport runways
│   ├── cl_data/
│       ├── TODR_MTOM_manuf/
│       │   └── *.txt            # Manufacturer data for TODR vs. MTOM (txt files)
│       └── *.parquet            # Lift Coefficient estimation results (parquet file)
├── main.py                      # Entry point to run simulations and generate outputs
├── performance_functions.py     # Core performance modeling functions (e.g., TODR, MTOM)
├── plots.py                     # Plotting script for 2D performance visualization
├── requirements.txt             # Python dependencies
├── results/
│   ├── img/                     # Output figures generated by the model
│   └── output/                  # Output data files (e.g., parquet)
├── test/
│   ├── atm_test.py              # Unit tests for atmospheric functions
│   ├── func_test.py             # General functional tests
│   └── buck_eval/               # Validation data and figures for Buck eq.
│       ├── buck_lide_confr.csv
│       └── buck_lide_confr.pdf
├── utils/
│   ├── file_utils.py            # Utility functions for file I/O
│   ├── tools.py                 # General-purpose tools (e.g., interpolation, RMSD)
│   └── unit_converter.py        # Unit conversion functions
```


## Getting Started
1) Ensure you have **Python 3.8 or higher** installed. Alternatively, you can request a *Google Colab notebook version* if preferred;

2) To run the project locally, **place the required data files in the following directories**:
    - Airports runways input data $→$ `./input/`; 
    - Manufacturer take-off performance data (txt file) $→$ `./input/cl_data/TODR_MTOM_manuf/`. 
    
    > :warning: **PLEASE BE AWARE OF THE NAMING CONVENTIONS USED**.

## Usage
1) Edit the [config.yml]('config.yml') file to specify:

    - **the two fixed variables** between  temperature, pressure, humidity, and headwind (i.e.: the performance grid will be creatd on the other two variables).
    - Aircraft type;
    - Engine configuration;
    - Airport configuration;
    - Ranges for temperature, pressure, humidity, and headwind.

2) To ensure all necessary `.parquet` files and directories are created, **it is recommended to run the entire pipeline on first execution**:
    ```
    python main.py
    ```
    This will:
    1. Install all the requested libraries (if needed);
    2. Load the configuration;
    3. Fit the lift coefficient for the selected aircraft-engine configuration (if needed or asked);
    4. Simulate TODR and air density over the defined grid;
    5. Save the output and plots in a predefined dirs and format.

### Running specific parts
After initial setup, you can run individual components by:
- Modifying the **CAP** control variables at the beginning of `main.py`, or

- Running each script independently (e.g., `cl_calc.py`, `plot.py`).

Feel free to modify the plotting setup and style.

## Outputs
All the main output of the model will be saved in `.results/img/` and  `.results/output/`. The main outputs of the model are:
- parquet files  with TODR and air density variation releted to parameters variation; postprocessing and/or reporting 
- 2D heatmaps (via matplotlib) showing TODR variation across selected parameters.

## Testing
Test scripts and results are available in the `test/` directory and can be used for further tests and validation of specific components or for reporting.
